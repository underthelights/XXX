---
title: "Dynamically Allocated Arrays (Chapter 2.2)"
excerpt: "Chap 2."
slug: "2-2-dynamic-allocated"

category: "data-structure"
lang: en
use_math: true
tags: ["CS", "data-structure"]
date: 2021-03-05T22:26:09-05:00
draft: false
---
## Dynamically Allocated Arrays (Chapter 2.2)

### 2.2.1 One-dimensional arrays

- Suppose the size of array is not determined at the time of programming.
- This is how we would typically write the program.

<script src="https://gist.github.com/underthelights/5bcf32917f1968c0c5504e2775374217.js"></script>

- This program has the following drawbacks
  - If the number of integers is smaller than 100, we are wasting memory.
  - If the number of integers is larger than 100, then the program will stop abruptly (bad), or behave unexpectedly (worse).



- A good solution to this problem is to defer memory allocation to run time, when we have a good estimate of the required array size.

<script src="https://gist.github.com/underthelights/078b98f55f9a6685845640e2e3f1fc05.js"></script>

  - void* malloc(size_t size)
     - allocates a block of size bytes of memory, returning a pointer to the beginning of the block.

     
     
  - When you are done using the memory space, you should return the allocated memory using free.

### One-dimensional arrays [ex004]
 - If you need to change the size of array after allocation, you can use the function realloc to do so.

  <script src="https://gist.github.com/underthelights/bfc30d7b1cb438b9ab828ac2089a29e1.js"></script>


- If additional memory can be allocated without changing the address, it is done so.
- If it is not possible, then memory is allocated at some other place, and the data is copied from the original memory space to the new memory space.

### 2.2.2 Two-dimensional arrays
 - A 2D array is represented as a 1D array in which each element is a 1D array.

   ```c
   int x[3][5];
   ```

   <img width="241" alt="image-20211002232316248" src="https://user-images.githubusercontent.com/46957634/135751484-c82578df-a7ab-4911-9a38-d2cf121e8d26.png">

 - A 3D array is represented as a 1D array in which each element is a 2D array.

### Program 2.3 [ex005]

<script src="https://gist.github.com/underthelights/c967991ea52bf33c9d143dd54cda3362.js"></script>
- You can use calloc instead of malloc.
- void* calloc(size_t num, size_t size)
  - allocates a block of memory for an array of num elements, each of them size bytes long, and initializes all its bits to zero.

- You should also free the allocated memory after use.
